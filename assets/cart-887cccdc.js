import{h as c,i as e}from"./index-acd3bbed.js";import{S as o}from"./sweetalert2.all-b53c911d.js";const{VITE_APP_URL:s,VITE_APP_PATH:i}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"ufo060204",BASE_URL:"/Zongzi-Shop-Webside/",MODE:"production",DEV:!1,PROD:!0},d=c("cart",{state:()=>({cart:[],total:0,final_total:0,isLoading:!1,color:"#FF700C",fullPage:!0}),actions:{getCarts(){e.get(`${s}v2/api/${i}/cart`).then(t=>{this.cart=t.data.data.carts,this.total=t.data.data.total,this.final_total=t.data.data.final_total}).catch(t=>{alert(t.data.message)})},addToCart(t){const a={product_id:t,qty:1};e.post(`${s}v2/api/${i}/cart`,{data:a}).then(r=>{this.getCarts(),o.fire({icon:"success",title:"加入購物車成功",showConfirmButton:!1,timer:1500})}).catch(r=>{alert(r.message)})},deleteCartItem(t){this.loadingItem=t.id,e.delete(`${s}v2/api/${i}/cart/${t.id}`).then(a=>{this.loadingItem="",this.getCarts(),o.fire({icon:"success",title:"刪除產品成功",showConfirmButton:!1,timer:1500})}).catch(a=>{alert(a.data.message)})},pay(){o.fire({title:"結帳確認",text:"確認資料無誤並結帳嗎?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(t=>{if(t.isConfirmed){const a=`${s}v2/api/${i}/pay/${this.orderId}`;e.post(a).then(r=>{this.cart=[],o.fire("付款完成","您已完成結帳","success"),this.$router.push("/orderFinished")})}})}},getters:{}});export{d as c};
