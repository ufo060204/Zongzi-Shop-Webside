import{h as c,i as o}from"./index-635e41e2.js";import{S as s}from"./sweetalert2.all-627527dc.js";const{VITE_APP_URL:i,VITE_APP_PATH:r}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"ufo060204",BASE_URL:"/Zongzi-Shop-Webside/",MODE:"production",DEV:!1,PROD:!0},d=c("cart",{state:()=>({cart:[],total:0,final_total:0,isLoading:!1,color:"#FF700C",fullPage:!0}),actions:{getCarts(){o.get(`${i}v2/api/${r}/cart`).then(t=>{this.cart=t.data.data.carts,this.total=t.data.data.total,this.final_total=t.data.data.final_total,console.log("total",this.total),console.log("這是購物車頁面",this.cart)}).catch(t=>{alert(t.data.message)})},addToCart(t){const a={product_id:t,qty:1};o.post(`${i}v2/api/${r}/cart`,{data:a}).then(e=>{this.getCarts(),s.fire({icon:"success",title:"加入購物車成功",showConfirmButton:!1,timer:1500})}).catch(e=>{alert(e.message)})},deleteCartItem(t){this.loadingItem=t.id,o.delete(`${i}v2/api/${r}/cart/${t.id}`).then(a=>{this.loadingItem="",this.getCarts(),s.fire({icon:"success",title:"刪除產品成功",showConfirmButton:!1,timer:1500})}).catch(a=>{alert(a.data.message)})},pay(){s.fire({title:"結帳確認",text:"確認資料無誤並結帳嗎?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(t=>{if(t.isConfirmed){const a=`${i}v2/api/${r}/pay/${this.orderId}`;o.post(a).then(e=>{console.log(e),this.cart=[],s.fire("付款完成","您已完成結帳","success"),this.$router.push("/orderFinished")})}})}},getters:{}});export{d as c};
