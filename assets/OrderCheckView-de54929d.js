import{S as l}from"./sweetalert2.all-b848d336.js";import{_ as p,c as o,b as t,t as e,F as n,n as u,f as b,e as m,o as r}from"./index-92bf391b.js";const{VITE_APP_URL:c,VITE_APP_PATH:a}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"ufo060204",BASE_URL:"/Zongzi-Shop-Webside/",MODE:"production",DEV:!1,PROD:!0},g={data(){return{orderId:"",order:[]}},methods:{getOrder(){this.orderId=this.$route.params.id;const i=`${c}v2/api/${a}/order/${this.orderId}`;this.$http.get(i).then(s=>{this.order=s.data.order}).catch(s=>{console.log(s)})},pay(){l.fire({title:"結帳確認",text:"確認資料無誤並結帳嗎?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"確認"}).then(i=>{if(i.isConfirmed){const s=`${c}v2/api/${a}/pay/${this.orderId}`;this.$http.post(s).then(h=>{this.cart=[],l.fire("付款完成","您已完成結帳","success"),this.$router.push("/orderFinished")})}})}},mounted(){this.getOrder()}},y=t("section",{class:"landing-img landing-header"},null,-1),f={class:"bg-bg"},x={class:"container-lg"},$={key:0,class:"py-8 text-center"},P=m('<ul class="list-unstyled d-md-flex justify-content-center"><li class="border border-boderlight py-3 px-7">確認商品</li><li class="border border-boderlight py-3 px-7">填寫資料</li><li class="bg-white border border-boderlight py-3 px-7">確認付款</li><li class="border border-boderlight py-3 px-7">完成付款</li></ul>',1),k={class:"row justify-content-lg-center"},E={class:"col-lg-6"},V={class:"table align-middle text-text-dark table-light border-bottom border-borderlight fs-4"},B=t("th",{class:"p-3"},"姓名",-1),I={class:"p-3"},T=t("th",{class:"p-3"},"Email",-1),A={class:"p-3"},C=t("th",{class:"p-3"},"電話",-1),v={class:"p-3"},S=t("th",{class:"p-3"},"地址",-1),w={class:"p-3"},O=t("th",{class:"p-3"},"訂購產品",-1),D={class:"p-3"},L={class:"list-unstyled"},N=t("th",{class:"p-3"},"付款金額",-1),R={class:"p-3"},F=t("th",{class:"p-3"},"付款狀態",-1),U={key:0,class:"p-3"},j={key:1,class:"p-3"};function q(i,s,h,H,z,_){return r(),o(n,null,[y,t("section",f,[t("div",x,[this.order.user?(r(),o("main",$,[P,t("div",k,[t("div",E,[t("table",V,[t("thead",null,[t("tr",null,[B,t("td",I,e(this.order.user.name),1)])]),t("tbody",null,[t("tr",null,[T,t("td",A,e(this.order.user.email),1)]),t("tr",null,[C,t("td",v,e(this.order.user.tel),1)]),t("tr",null,[S,t("td",w,e(this.order.user.address),1)]),t("tr",null,[O,t("td",D,[t("ul",L,[(r(!0),o(n,null,u(this.order.products,d=>(r(),o("li",{key:d.id},e(d.product.title)+" X "+e(d.qty),1))),128))])])]),t("tr",null,[N,t("td",R,"$NT "+e(this.order.total),1)]),t("tr",null,[F,this.order.is_paid?(r(),o("td",j,"已付款")):(r(),o("td",U,"未付款"))])])])])]),t("button",{onClick:s[0]||(s[0]=()=>_.pay()),type:"button",class:"btn btn-outline-primary"},"確認付款")])):b("",!0)])])],64)}const X=p(g,[["render",q]]);export{X as default};
