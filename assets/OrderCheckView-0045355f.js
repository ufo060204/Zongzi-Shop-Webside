import{S as d}from"./sweetalert2.all-90f8080b.js";import{_ as b,c as o,d as g,b as t,t as e,F as n,l as u,f as y,e as f,r as x,o as i}from"./index-a009aa7b.js";const{VITE_APP_URL:a,VITE_APP_PATH:h}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"ufo060204",BASE_URL:"/Zongzi-Shop-Webside/",MODE:"production",DEV:!1,PROD:!0},w={data(){return{orderId:"",order:[],isLoading:!1,color:"#FF700C"}},methods:{getOrder(){this.isLoading=!0,this.orderId=this.$route.params.id;const r=`${a}v2/api/${h}/order/${this.orderId}`;this.$http.get(r).then(s=>{this.order=s.data.order,this.isLoading=!1}).catch(s=>{this.isLoading=!1,d.fire(s.message)})},pay(){d.fire({title:"結帳確認",text:"確認資料無誤並結帳嗎?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"確認"}).then(r=>{if(r.isConfirmed){const s=`${a}v2/api/${h}/pay/${this.orderId}`;this.$http.post(s).then(_=>{this.cart=[],d.fire("付款完成","您已完成結帳","success"),this.$router.push("/orderFinished")})}})}},mounted(){this.getOrder()}},v=t("section",{class:"landing-img landing-header"},null,-1),V={class:"bg-bg"},$={class:"container-lg"},k={key:0,class:"py-8 text-center"},L=f('<ul class="list-unstyled d-md-flex justify-content-center"><li class="border border-boderlight py-3 px-7">確認商品</li><li class="d-flex align-items-center justify-content-center px-1"><i class="bi bi-chevron-right fs-4 text-text-light shopping-process-icon"></i></li><li class="border border-boderlight py-3 px-7">填寫資料</li><li class="d-flex align-items-center justify-content-center px-1"><i class="bi bi-chevron-right fs-4 text-text-light shopping-process-icon"></i></li><li class="bg-white border border-boderlight py-3 px-7">確認付款</li><li class="d-flex align-items-center justify-content-center px-1"><i class="bi bi-chevron-right fs-4 text-text-light shopping-process-icon"></i></li><li class="border border-boderlight py-3 px-7">完成付款</li></ul>',1),P={class:"row justify-content-lg-center"},C={class:"col-lg-6"},E={style:{"box-shadow":"0 0 16px rgba(0, 0, 0, 0.08)"},class:"table text-text-dark bg-white fs-5"},B=t("tr",{class:"bg-boderlight"},[t("th",{class:"py-3 fs-4"},"訂單資訊")],-1),I={style:{margin:"0 -6px"},class:"row border-bottom py-3"},T=t("th",{class:"col-md-5"},"姓名",-1),A={class:"col-md-7"},S={class:"row border-bottom py-3 m-0 align-items-center"},j=t("th",{class:"col-md-5"},"Email",-1),F={style:{"word-wrap":"break-word"},class:"col-md-7"},N={class:"row border-bottom py-3 m-0 align-items-center"},O=t("th",{class:"col-md-5"},"電話",-1),D={class:"col-md-7"},R={class:"row border-bottom py-3 m-0 align-items-center"},U=t("th",{class:"col-md-5"},"地址",-1),q={style:{"word-wrap":"break-word"},class:"col-md-7"},z={class:"row border-bottom py-3 m-0 align-items-center"},H=t("th",{class:"col-md-5"},"訂購產品",-1),M={class:"col-md-7"},W={class:"list-unstyled bg-white mb-0"},X={class:"row border-bottom py-3 m-0"},Z=t("th",{class:"col-md-5"},"付款金額",-1),G={class:"col-md-7"},J={class:"row border-bottom py-3 m-0"},K=t("th",{class:"col-md-5"},"付款狀態",-1),Q={key:0,class:"col-md-7"},Y={key:1,class:"col-md-7"};function tt(r,s,_,st,l,p){const m=x("VueLoading");return i(),o(n,null,[v,g(m,{active:l.isLoading,color:l.color,"z-index":9999},null,8,["active","color"]),t("section",V,[t("div",$,[this.order.user?(i(),o("main",k,[L,t("div",P,[t("div",C,[t("table",E,[B,t("tr",I,[T,t("td",A,e(this.order.user.name),1)]),t("tr",S,[j,t("td",F,e(this.order.user.email),1)]),t("tr",N,[O,t("td",D,e(this.order.user.tel),1)]),t("tr",R,[U,t("td",q,e(this.order.user.address),1)]),t("tr",z,[H,t("td",M,[t("ul",W,[(i(!0),o(n,null,u(this.order.products,c=>(i(),o("li",{key:c.id},e(c.product.title)+" X "+e(c.qty),1))),128))])])]),t("tr",X,[Z,t("td",G,"$NT "+e(this.order.total),1)]),t("tr",J,[K,this.order.is_paid?(i(),o("td",Y,"已付款")):(i(),o("td",Q,"未付款"))])])])]),t("button",{onClick:s[0]||(s[0]=()=>p.pay()),type:"button",class:"btn btn-outline-primary btn-lg rounded-0"},"確認付款")])):y("",!0)])])],64)}const it=b(w,[["render",tt]]);export{it as default};
